{"ast":null,"code":"var _jsxFileName = \"/var/www/html/game/src/components/Jogada/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport JogadaModel from '../../models/Jogada';\nimport Dado from '../../components/Dado';\nimport OpcaoJogadaFactory from '../../models/OpcoesJogada/OpcaoJogadaFactory';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Jogada(props) {\n  _s();\n\n  const [jogada, setJogada] = useState(new JogadaModel());\n  const [statusJogada, setStatusJogada] = useState(0);\n  const [opcoesSalvar, setOpcoesSalvar] = useState([]);\n  useEffect(() => {\n    setInterval(() => {\n      let aux = new OpcaoJogadaFactory().createOpcao(props.partida.getTipo());\n      aux = props.partida; //alert(JSON.stringify(props.partida))\n\n      props.p(aux);\n    }, 5000);\n  }, []);\n\n  function jogar() {\n    let j = new JogadaModel();\n    j.setDados(jogada.getDados());\n    j.setTurno(jogada.getTurno());\n    j.preencheDados();\n    j.jogar();\n    setJogada(j);\n\n    if (j.getTurno() == 3) {\n      setStatusJogada(1);\n    }\n\n    opcoes();\n  }\n\n  function salvarDado(id) {\n    let j = new JogadaModel();\n    j.setDados(jogada.getDados());\n    j.setTurno(jogada.getTurno());\n    j.getDados().map(d => {\n      if (d.getId() == id) {\n        if (d.getStatus() == 1) {\n          d.setStatus(0);\n        } else {\n          d.setStatus(1);\n        }\n      }\n    });\n    setJogada(j);\n  }\n\n  function limpaJogada() {\n    setStatusJogada(0);\n    setJogada(new JogadaModel());\n    setOpcoesSalvar([]);\n  }\n\n  function missao(op) {\n    op.atualizaMissao(props.partida.getTurno().getAtual().getMissao());\n    props.partida.getTurno().getAtual().getMissao().calculaPontuacao();\n    props.p(props.partida);\n    limpaJogada();\n  }\n\n  function tora(op) {\n    op.setTotal(-1);\n    missao(op);\n  }\n\n  function verificaOpcao(op) {\n    let check = false;\n    props.partida.getTurno().getAtual().getMissao().getOpcoes().map(o => {\n      if (o.getTipo() == op.getTipo() && o.getTotal() != 0) {\n        check = true;\n      }\n    });\n    return check;\n  }\n\n  function opcoes() {\n    let opcaoJogadaFactory = new OpcaoJogadaFactory();\n    let dados = jogada.getDados();\n    let opcoes = [];\n\n    function controleOpcao(opcao, dados) {\n      if (opcao.getControle() == 0) {\n        opcao.filtro(dados);\n        opcoes.push(opcao);\n      }\n    }\n\n    let opcaoUm = opcaoJogadaFactory.createOpcao(\"1\");\n    let opcaoDois = opcaoJogadaFactory.createOpcao(\"2\");\n    let opcaoTres = opcaoJogadaFactory.createOpcao(\"3\");\n    let opcaoQuatro = opcaoJogadaFactory.createOpcao(\"4\");\n    let opcaoCinco = opcaoJogadaFactory.createOpcao(\"5\");\n    let opcaoSeis = opcaoJogadaFactory.createOpcao(\"6\");\n    let opcaoSeguida = opcaoJogadaFactory.createOpcao(\"seguida\");\n    let opcaoTrinca = opcaoJogadaFactory.createOpcao(\"trinca\");\n    let opcaoQuadra = opcaoJogadaFactory.createOpcao(\"quadra\");\n    let opcaoFullHouse = opcaoJogadaFactory.createOpcao(\"full-house\");\n    let opcaoGeneral = opcaoJogadaFactory.createOpcao(\"general\");\n    controleOpcao(opcaoUm, dados);\n    controleOpcao(opcaoDois, dados);\n    controleOpcao(opcaoTres, dados);\n    controleOpcao(opcaoQuatro, dados);\n    controleOpcao(opcaoCinco, dados);\n    controleOpcao(opcaoSeis, dados);\n    controleOpcao(opcaoSeguida, dados);\n    controleOpcao(opcaoTrinca, dados);\n    controleOpcao(opcaoQuadra, dados);\n    controleOpcao(opcaoFullHouse, dados);\n    controleOpcao(opcaoGeneral, dados);\n    setOpcoesSalvar(opcoes);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!!statusJogada == 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: jogar,\n        className: \"btn btn-success mb-3 w-25\",\n        children: \"Jogar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-row mb-3\",\n        children: jogada.getDados().map(d => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-2\",\n            onClick: () => salvarDado(d.getId()),\n            children: /*#__PURE__*/_jsxDEV(Dado, {\n              dado: d\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 21\n          }, this)\n        }, void 0, false))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-primary w-25\",\n        children: [\"Turno: \", jogada.getTurno()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), !!statusJogada == 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-row mb-3\",\n        children: jogada.getDados().map(d => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2 text-success\",\n            children: /*#__PURE__*/_jsxDEV(Dado, {\n              dado: d\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 21\n          }, this)\n        }, void 0, false))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger w-25\",\n        children: \"Fim da jogada!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }, this), !!opcoesSalvar.length && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card bg-gray-200 w-50\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: opcoesSalvar.map(op => /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: !verificaOpcao(op) && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex flex-column\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: op.getTipo()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 154,\n                      columnNumber: 43\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"TOTAL: \", op.getTotal()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 37\n                  }, this), op.getTotal() != 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"mb-2 btn btn-success w-25\",\n                      onClick: () => missao(op),\n                      children: \"Seleciona\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 157,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"mb-2 btn btn-danger w-25\",\n                    onClick: () => tora(op),\n                    children: \"Tora\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex flex-row\",\n                  children: op.getDados().map(d => /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ml-1 text-success\",\n                      children: /*#__PURE__*/_jsxDEV(Dado, {\n                        dado: d\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 164,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 163,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true)\n            }, void 0, false))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 17\n        }, this)\n      }, void 0, false)]\n    }, void 0, true)]\n  }, void 0, true);\n}\n\n_s(Jogada, \"Qh7nXGy1xvMqmpRg8g4LMbP+wLM=\");\n\n_c = Jogada;\nexport default Jogada;\n\nvar _c;\n\n$RefreshReg$(_c, \"Jogada\");","map":{"version":3,"sources":["/var/www/html/game/src/components/Jogada/index.js"],"names":["React","useEffect","useState","JogadaModel","Dado","OpcaoJogadaFactory","Jogada","props","jogada","setJogada","statusJogada","setStatusJogada","opcoesSalvar","setOpcoesSalvar","setInterval","aux","createOpcao","partida","getTipo","p","jogar","j","setDados","getDados","setTurno","getTurno","preencheDados","opcoes","salvarDado","id","map","d","getId","getStatus","setStatus","limpaJogada","missao","op","atualizaMissao","getAtual","getMissao","calculaPontuacao","tora","setTotal","verificaOpcao","check","getOpcoes","o","getTotal","opcaoJogadaFactory","dados","controleOpcao","opcao","getControle","filtro","push","opcaoUm","opcaoDois","opcaoTres","opcaoQuatro","opcaoCinco","opcaoSeis","opcaoSeguida","opcaoTrinca","opcaoQuadra","opcaoFullHouse","opcaoGeneral","length"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,kBAAP,MAA+B,8CAA/B;;;;AAEA,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;AAAA;;AAEnB,QAAM,CAAEC,MAAF,EAAUC,SAAV,IAAwBP,QAAQ,CAAC,IAAIC,WAAJ,EAAD,CAAtC;AACA,QAAM,CAAEO,YAAF,EAAgBC,eAAhB,IAAoCT,QAAQ,CAAC,CAAD,CAAlD;AACA,QAAM,CAAEU,YAAF,EAAgBC,eAAhB,IAAoCX,QAAQ,CAAC,EAAD,CAAlD;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZa,IAAAA,WAAW,CAAC,MAAM;AACd,UAAIC,GAAG,GAAG,IAAIV,kBAAJ,GAAyBW,WAAzB,CAAqCT,KAAK,CAACU,OAAN,CAAcC,OAAd,EAArC,CAAV;AACAH,MAAAA,GAAG,GAAGR,KAAK,CAACU,OAAZ,CAFc,CAGd;;AACAV,MAAAA,KAAK,CAACY,CAAN,CAAQJ,GAAR;AACH,KALU,EAKR,IALQ,CAAX;AAMH,GAPQ,EAON,EAPM,CAAT;;AASA,WAASK,KAAT,GAAiB;AACb,QAAIC,CAAC,GAAG,IAAIlB,WAAJ,EAAR;AACAkB,IAAAA,CAAC,CAACC,QAAF,CAAWd,MAAM,CAACe,QAAP,EAAX;AACAF,IAAAA,CAAC,CAACG,QAAF,CAAWhB,MAAM,CAACiB,QAAP,EAAX;AACAJ,IAAAA,CAAC,CAACK,aAAF;AACAL,IAAAA,CAAC,CAACD,KAAF;AACAX,IAAAA,SAAS,CAACY,CAAD,CAAT;;AACA,QAAGA,CAAC,CAACI,QAAF,MAAgB,CAAnB,EAAsB;AAClBd,MAAAA,eAAe,CAAC,CAAD,CAAf;AACH;;AACDgB,IAAAA,MAAM;AACT;;AAED,WAASC,UAAT,CAAoBC,EAApB,EAAwB;AACpB,QAAIR,CAAC,GAAG,IAAIlB,WAAJ,EAAR;AACAkB,IAAAA,CAAC,CAACC,QAAF,CAAWd,MAAM,CAACe,QAAP,EAAX;AACAF,IAAAA,CAAC,CAACG,QAAF,CAAWhB,MAAM,CAACiB,QAAP,EAAX;AAEAJ,IAAAA,CAAC,CAACE,QAAF,GAAaO,GAAb,CAAiBC,CAAC,IAAI;AAClB,UAAGA,CAAC,CAACC,KAAF,MAAaH,EAAhB,EAAoB;AAChB,YAAGE,CAAC,CAACE,SAAF,MAAiB,CAApB,EAAuB;AACnBF,UAAAA,CAAC,CAACG,SAAF,CAAY,CAAZ;AACH,SAFD,MAEO;AACHH,UAAAA,CAAC,CAACG,SAAF,CAAY,CAAZ;AACH;AACJ;AACJ,KARD;AASAzB,IAAAA,SAAS,CAACY,CAAD,CAAT;AACH;;AAED,WAASc,WAAT,GAAuB;AACnBxB,IAAAA,eAAe,CAAC,CAAD,CAAf;AACAF,IAAAA,SAAS,CAAC,IAAIN,WAAJ,EAAD,CAAT;AACAU,IAAAA,eAAe,CAAC,EAAD,CAAf;AACH;;AAED,WAASuB,MAAT,CAAgBC,EAAhB,EAAoB;AAChBA,IAAAA,EAAE,CAACC,cAAH,CAAkB/B,KAAK,CAACU,OAAN,CAAcQ,QAAd,GAAyBc,QAAzB,GAAoCC,SAApC,EAAlB;AACAjC,IAAAA,KAAK,CAACU,OAAN,CAAcQ,QAAd,GAAyBc,QAAzB,GAAoCC,SAApC,GAAgDC,gBAAhD;AACAlC,IAAAA,KAAK,CAACY,CAAN,CAAQZ,KAAK,CAACU,OAAd;AACAkB,IAAAA,WAAW;AACd;;AAED,WAASO,IAAT,CAAcL,EAAd,EAAkB;AACdA,IAAAA,EAAE,CAACM,QAAH,CAAY,CAAC,CAAb;AACAP,IAAAA,MAAM,CAACC,EAAD,CAAN;AACH;;AAED,WAASO,aAAT,CAAuBP,EAAvB,EAA2B;AACvB,QAAIQ,KAAK,GAAG,KAAZ;AACAtC,IAAAA,KAAK,CAACU,OAAN,CAAcQ,QAAd,GAAyBc,QAAzB,GAAoCC,SAApC,GAAgDM,SAAhD,GAA4DhB,GAA5D,CAAgEiB,CAAC,IAAI;AACjE,UAAGA,CAAC,CAAC7B,OAAF,MAAemB,EAAE,CAACnB,OAAH,EAAf,IAA+B6B,CAAC,CAACC,QAAF,MAAgB,CAAlD,EAAqD;AACjDH,QAAAA,KAAK,GAAG,IAAR;AACH;AACJ,KAJD;AAKA,WAAOA,KAAP;AACH;;AAED,WAASlB,MAAT,GAAkB;AACd,QAAIsB,kBAAkB,GAAG,IAAI5C,kBAAJ,EAAzB;AACA,QAAI6C,KAAK,GAAG1C,MAAM,CAACe,QAAP,EAAZ;AACA,QAAII,MAAM,GAAG,EAAb;;AAEA,aAASwB,aAAT,CAAuBC,KAAvB,EAA6BF,KAA7B,EAAoC;AAChC,UAAGE,KAAK,CAACC,WAAN,MAAuB,CAA1B,EAA6B;AACzBD,QAAAA,KAAK,CAACE,MAAN,CAAaJ,KAAb;AACAvB,QAAAA,MAAM,CAAC4B,IAAP,CAAYH,KAAZ;AACH;AACJ;;AAED,QAAII,OAAO,GAAGP,kBAAkB,CAACjC,WAAnB,CAA+B,GAA/B,CAAd;AACA,QAAIyC,SAAS,GAAGR,kBAAkB,CAACjC,WAAnB,CAA+B,GAA/B,CAAhB;AACA,QAAI0C,SAAS,GAAGT,kBAAkB,CAACjC,WAAnB,CAA+B,GAA/B,CAAhB;AACA,QAAI2C,WAAW,GAAGV,kBAAkB,CAACjC,WAAnB,CAA+B,GAA/B,CAAlB;AACA,QAAI4C,UAAU,GAAGX,kBAAkB,CAACjC,WAAnB,CAA+B,GAA/B,CAAjB;AACA,QAAI6C,SAAS,GAAGZ,kBAAkB,CAACjC,WAAnB,CAA+B,GAA/B,CAAhB;AACA,QAAI8C,YAAY,GAAGb,kBAAkB,CAACjC,WAAnB,CAA+B,SAA/B,CAAnB;AACA,QAAI+C,WAAW,GAAGd,kBAAkB,CAACjC,WAAnB,CAA+B,QAA/B,CAAlB;AACA,QAAIgD,WAAW,GAAGf,kBAAkB,CAACjC,WAAnB,CAA+B,QAA/B,CAAlB;AACA,QAAIiD,cAAc,GAAGhB,kBAAkB,CAACjC,WAAnB,CAA+B,YAA/B,CAArB;AACA,QAAIkD,YAAY,GAAGjB,kBAAkB,CAACjC,WAAnB,CAA+B,SAA/B,CAAnB;AAEAmC,IAAAA,aAAa,CAACK,OAAD,EAASN,KAAT,CAAb;AACAC,IAAAA,aAAa,CAACM,SAAD,EAAWP,KAAX,CAAb;AACAC,IAAAA,aAAa,CAACO,SAAD,EAAWR,KAAX,CAAb;AACAC,IAAAA,aAAa,CAACQ,WAAD,EAAaT,KAAb,CAAb;AACAC,IAAAA,aAAa,CAACS,UAAD,EAAYV,KAAZ,CAAb;AACAC,IAAAA,aAAa,CAACU,SAAD,EAAWX,KAAX,CAAb;AACAC,IAAAA,aAAa,CAACW,YAAD,EAAeZ,KAAf,CAAb;AACAC,IAAAA,aAAa,CAACY,WAAD,EAAcb,KAAd,CAAb;AACAC,IAAAA,aAAa,CAACa,WAAD,EAAcd,KAAd,CAAb;AACAC,IAAAA,aAAa,CAACc,cAAD,EAAiBf,KAAjB,CAAb;AACAC,IAAAA,aAAa,CAACe,YAAD,EAAehB,KAAf,CAAb;AAEArC,IAAAA,eAAe,CAACc,MAAD,CAAf;AACH;;AAED,sBAAQ;AAAA,eACH,CAAC,CAACjB,YAAF,IAAkB,CAAlB,iBAAyB;AAAA,8BACtB;AACI,QAAA,OAAO,EAAEU,KADb;AAEI,QAAA,SAAS,EAAC,2BAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADsB,eAOtB;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA,kBACKZ,MAAM,CAACe,QAAP,GAAkBO,GAAlB,CAAsBC,CAAC,iBAAM;AAAA,iCAC1B;AAAK,YAAA,SAAS,EAAC,MAAf;AAAsB,YAAA,OAAO,EAAE,MAAMH,UAAU,CAACG,CAAC,CAACC,KAAF,EAAD,CAA/C;AAAA,mCACI,QAAC,IAAD;AAAM,cAAA,IAAI,EAAED;AAAZ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAD0B,yBAA7B;AADL;AAAA;AAAA;AAAA;AAAA,cAPsB,eActB;AAAK,QAAA,SAAS,EAAC,0BAAf;AAAA,8BACavB,MAAM,CAACiB,QAAP,EADb;AAAA;AAAA;AAAA;AAAA;AAAA,cAdsB;AAAA,oBADtB,EAmBH,CAAC,CAACf,YAAF,IAAkB,CAAlB,iBAAyB;AAAA,8BACtB;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA,kBACKF,MAAM,CAACe,QAAP,GAAkBO,GAAlB,CAAsBC,CAAC,iBAAM;AAAA,iCAC1B;AAAM,YAAA,SAAS,EAAC,mBAAhB;AAAA,mCACI,QAAC,IAAD;AAAM,cAAA,IAAI,EAAEA;AAAZ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAD0B,yBAA7B;AADL;AAAA;AAAA;AAAA;AAAA,cADsB,eAQtB;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARsB,EAWrB,CAAC,CAACnB,YAAY,CAACuD,MAAf,iBAA0B;AAAA,+BACvB;AAAK,UAAA,SAAS,EAAC,uBAAf;AAAA,iCACI;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA,sBACKvD,YAAY,CAACkB,GAAb,CAAiBO,EAAE,iBAAK;AAAA,wBACpB,CAACO,aAAa,CAACP,EAAD,CAAd,iBAAuB;AAAA,wCACpB;AAAK,kBAAA,SAAS,EAAC,oBAAf;AAAA,0CACI;AAAA,2CAAM;AAAA,gCAAIA,EAAE,CAACnB,OAAH;AAAJ;AAAA;AAAA;AAAA;AAAA;AAAN;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAA,0CAAcmB,EAAE,CAACW,QAAH,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFJ,EAGSX,EAAE,CAACW,QAAH,MAAiB,CAAjB,iBAAuB;AAAA,2CACpB;AAAQ,sBAAA,SAAS,EAAC,2BAAlB;AAA8C,sBAAA,OAAO,EAAE,MAAMZ,MAAM,CAACC,EAAD,CAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADoB,mCAHhC,eAMQ;AAAQ,oBAAA,SAAS,EAAC,0BAAlB;AAA6C,oBAAA,OAAO,EAAE,MAAMK,IAAI,CAACL,EAAD,CAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BANR;AAAA;AAAA;AAAA;AAAA;AAAA,wBADoB,eASpB;AAAK,kBAAA,SAAS,EAAC,iBAAf;AAAA,4BACKA,EAAE,CAACd,QAAH,GAAcO,GAAd,CAAkBC,CAAC,iBAAK;AAAA,2CACrB;AAAK,sBAAA,SAAS,EAAC,mBAAf;AAAA,6CACI,QAAC,IAAD;AAAM,wBAAA,IAAI,EAAEA;AAAZ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADqB,mCAAxB;AADL;AAAA;AAAA;AAAA;AAAA,wBAToB,eAgBpB;AAAA;AAAA;AAAA;AAAA,wBAhBoB;AAAA;AADH,6BAAxB;AADL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADuB,uBAXL;AAAA,oBAnBtB;AAAA,kBAAR;AA0DH;;GA1KQzB,M;;KAAAA,M;AA4KT,eAAeA,MAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport JogadaModel from '../../models/Jogada';\nimport Dado from '../../components/Dado';\nimport OpcaoJogadaFactory from '../../models/OpcoesJogada/OpcaoJogadaFactory';\n\nfunction Jogada(props) {\n\n    const [ jogada, setJogada ] = useState(new JogadaModel());\n    const [ statusJogada, setStatusJogada ] = useState(0);\n    const [ opcoesSalvar, setOpcoesSalvar ] = useState([]);\n\n    useEffect(() => {\n        setInterval(() => {\n            let aux = new OpcaoJogadaFactory().createOpcao(props.partida.getTipo());\n            aux = props.partida;\n            //alert(JSON.stringify(props.partida))\n            props.p(aux);\n        }, 5000)\n    }, [] )\n\n    function jogar() {\n        let j = new JogadaModel();\n        j.setDados(jogada.getDados());\n        j.setTurno(jogada.getTurno());\n        j.preencheDados();\n        j.jogar();\n        setJogada(j);\n        if(j.getTurno() == 3) {\n            setStatusJogada(1);\n        }\n        opcoes();\n    }\n\n    function salvarDado(id) {\n        let j = new JogadaModel();\n        j.setDados(jogada.getDados());\n        j.setTurno(jogada.getTurno());\n    \n        j.getDados().map(d => {\n            if(d.getId() == id) {\n                if(d.getStatus() == 1) {\n                    d.setStatus(0);    \n                } else {\n                    d.setStatus(1);\n                }\n            }\n        })\n        setJogada(j);\n    }\n\n    function limpaJogada() {\n        setStatusJogada(0);\n        setJogada(new JogadaModel());\n        setOpcoesSalvar([]);\n    }\n\n    function missao(op) {\n        op.atualizaMissao(props.partida.getTurno().getAtual().getMissao());\n        props.partida.getTurno().getAtual().getMissao().calculaPontuacao();\n        props.p(props.partida);\n        limpaJogada();\n    }\n\n    function tora(op) {\n        op.setTotal(-1)\n        missao(op);\n    }\n\n    function verificaOpcao(op) {\n        let check = false;\n        props.partida.getTurno().getAtual().getMissao().getOpcoes().map(o => {\n            if(o.getTipo() == op.getTipo() && o.getTotal() != 0) {\n                check = true;\n            }\n        })\n        return check;\n    }\n\n    function opcoes() {\n        let opcaoJogadaFactory = new OpcaoJogadaFactory();\n        let dados = jogada.getDados();\n        let opcoes = [];\n        \n        function controleOpcao(opcao,dados) {\n            if(opcao.getControle() == 0) {\n                opcao.filtro(dados);\n                opcoes.push(opcao);\n            }\n        }\n        \n        let opcaoUm = opcaoJogadaFactory.createOpcao(\"1\");\n        let opcaoDois = opcaoJogadaFactory.createOpcao(\"2\");\n        let opcaoTres = opcaoJogadaFactory.createOpcao(\"3\");\n        let opcaoQuatro = opcaoJogadaFactory.createOpcao(\"4\");\n        let opcaoCinco = opcaoJogadaFactory.createOpcao(\"5\");\n        let opcaoSeis = opcaoJogadaFactory.createOpcao(\"6\");\n        let opcaoSeguida = opcaoJogadaFactory.createOpcao(\"seguida\");\n        let opcaoTrinca = opcaoJogadaFactory.createOpcao(\"trinca\");\n        let opcaoQuadra = opcaoJogadaFactory.createOpcao(\"quadra\");\n        let opcaoFullHouse = opcaoJogadaFactory.createOpcao(\"full-house\");\n        let opcaoGeneral = opcaoJogadaFactory.createOpcao(\"general\");\n       \n        controleOpcao(opcaoUm,dados);\n        controleOpcao(opcaoDois,dados);\n        controleOpcao(opcaoTres,dados);\n        controleOpcao(opcaoQuatro,dados);\n        controleOpcao(opcaoCinco,dados);\n        controleOpcao(opcaoSeis,dados);\n        controleOpcao(opcaoSeguida, dados);\n        controleOpcao(opcaoTrinca, dados);\n        controleOpcao(opcaoQuadra, dados);\n        controleOpcao(opcaoFullHouse, dados);\n        controleOpcao(opcaoGeneral, dados);\n\n        setOpcoesSalvar(opcoes);\n    }\n\n    return (<>\n        {!!statusJogada == 0 && ( <>\n            <button\n                onClick={jogar}\n                className=\"btn btn-success mb-3 w-25\"\n                >\n                Jogar\n            </button>\n            <div className=\"d-flex flex-row mb-3\">\n                {jogada.getDados().map(d => ( <>\n                    <div className=\"ml-2\" onClick={() => salvarDado(d.getId())}>\n                        <Dado dado={d} />\n                    </div>\n                </>))}\n            </div>\n            <div className=\"alert alert-primary w-25\">\n                Turno: { jogada.getTurno() }        \n            </div>\n        </>)}\n        {!!statusJogada == 1 && ( <>\n            <div className=\"d-flex flex-row mb-3\">\n                {jogada.getDados().map(d => ( <>\n                    <span className=\"ml-2 text-success\">\n                        <Dado dado={d} />\n                    </span>\n                </>))}\n            </div>\n            <div className=\"alert alert-danger w-25\">\n                Fim da jogada!       \n            </div>\n            {!!opcoesSalvar.length && (<>\n                <div className=\"card bg-gray-200 w-50\">\n                    <div className=\"card-body\">\n                        {opcoesSalvar.map(op => (<>\n                            {!verificaOpcao(op) && (<>\n                                <div className=\"d-flex flex-column\">\n                                    <span><b>{op.getTipo()}</b></span>\n                                    <span>TOTAL: {op.getTotal()}</span>\n                                        {op.getTotal() != 0 && (<>\n                                            <button className=\"mb-2 btn btn-success w-25\" onClick={() => missao(op)}>Seleciona</button>\n                                        </>)}\n                                        <button className=\"mb-2 btn btn-danger w-25\" onClick={() => tora(op)}>Tora</button>\n                                </div>\n                                <div className=\"d-flex flex-row\">\n                                    {op.getDados().map(d => (<>\n                                        <div className=\"ml-1 text-success\">\n                                            <Dado dado={d} />\n                                        </div>\n                                    </>))}\n                                </div>\n                                <hr />\n                            </>)}\n                        </>))}\n                    </div>\n                </div>\n            </>)}\n        </>)}\n    </>)\n}\n\nexport default Jogada;"]},"metadata":{},"sourceType":"module"}